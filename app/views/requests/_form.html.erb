<%= form_for(request) do |f| %>
  <% @form_obj = request %>
  <% if @form_obj %>
    <%= render 'shared/error_messages', object: @form_obj %>
  <% end %>

  <p>
    <b>Item Requested</b>
    <%= request.item_name %>
  </p>

  <p>
    <%= f.label :quantity %><br>
    <%= f.select :quantity, ((0..Item.where(["unique_name = ?", request.item_name]).first.quantity).map {|i| [i,i] }) %>
  </p>
  
  <p>
    <%= f.label :request_type %><br>
    <%= f.select :request_type, [['Disbursement','disbursement'],['Acquisition','acquisition'],['Destruction','destruction']] %>
  </p>

  <p>
    <%= f.label :reason %><br>
    <%= f.text_area :reason, :required => true %>
  </p>

  <%= f.hidden_field :item_name, :value => request.item_name %>
  <%= f.hidden_field :user, :value => current_user.username %>
  <%= f.hidden_field :datetime, :value => Time.now %>
  <%= f.hidden_field :status, :value => "outstanding" %>


  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
